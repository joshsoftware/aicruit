<h2> User List </h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Contact Number</th>
      <th>Role</th>
      <th colspan= '3'>Action</th>
    </tr>
  </thead>
  <tbody>
    <% if @users.any? %>
      <% @users.each do |user| %>
        <tr>
          <td><%= user.first_name+' '+user.last_name %></td>
          <td><%= user.email %></td>
          <td><%= user.contact_number %></td>
          <td><%= user.role.name %></td>
          <td><%= link_to user_path(user), class: 'my-custom-btn' do %>
                <%= image_tag 'eye_1.png', alt: 'Show', style: 'height: 20px; width: 20px;' %>
              <% end %>
          </td>
          <td><%= link_to edit_user_path(user), class: 'my-custom-btn' do %>
            <%= image_tag 'edit-text.png', alt: 'Edit', style: 'height: 20px; width: 20px;' %> 
              <% end %>
          </td>
          <td><%= button_to user_path(user), method: :delete, data: { confirm: 'Are you sure?' }, class: 'delete-button' do %>
                <%= image_tag 'trash_1.png', alt: 'Delete', style: 'height: 20px; width: 20px;' %> 
              <% end %>
          </td>
        </tr>
      <% end %>
    <% else %>
      <p>No users found matching your search.</p>
    <% end %>
  </tbody>
</table>

<style>
    table {
      width: 100%;
      border-collapse: collapse; /* Ensures borders dont double up between table cells */
    }

    th, td {
      border: 0px solid black; /* Adds a black border to each table cell */
      padding: 8px; /* Adds padding inside the cells */
      text-align: left; /* Aligns text to the left */
    }

    th {
      background-color: #f2f2f2; /* Light gray background for header */
    }

    .delete-button{
      border: none;
      background: transparent;
      cursor: pointer;
    }
</style>